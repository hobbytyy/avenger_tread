# 量化回测系统打包程序使用说明

## 程序位置

打包后的程序位于以下位置：
- 可执行文件: `dist/量化回测系统/量化回测系统`
- 应用包: `dist/量化回测系统.app`

## 运行方式

### 方法一：通过应用包运行（推荐）
双击 `dist/量化回测系统.app` 文件运行程序。

或者在终端中运行：
```bash
open dist/量化回测系统.app
```

### 方法二：直接运行可执行文件
在终端中运行：
```bash
dist/量化回测系统/量化回测系统
```

## 常见问题及解决方案

### 1. 程序无法启动
如果双击应用包无法启动，请尝试以下方法：

#### 检查应用权限
在终端中运行以下命令授予执行权限：
```bash
chmod +x dist/量化回测系统/量化回测系统
chmod +x dist/量化回测系统.app/Contents/MacOS/量化回测系统
```

#### 从终端运行查看错误信息
```bash
dist/量化回测系统/量化回测系统
```

### 2. macOS安全提示
如果macOS阻止运行该应用，请按以下步骤操作：

1. 打开"系统偏好设置" -> "安全性与隐私"
2. 在"通用"选项卡中，点击"仍要打开"按钮
3. 或者按住Control键点击应用图标，选择"打开"

### 3. 缺少依赖库
如果提示缺少某些库文件，请重新打包程序：

```bash
python build_exe.py
```

## 重新打包

如果需要重新打包程序，请运行：
```bash
python build_exe.py
```

## 故障排除

### 查看详细错误信息
如果程序闪退或无法启动，请从终端运行以查看详细错误信息：
```bash
dist/量化回测系统/量化回测系统
```

### 检查依赖完整性
确保所有必需的依赖都已正确打包：
- PyQt5
- pandas
- numpy
- matplotlib

### 重新安装依赖
如果怀疑依赖有问题，可以在虚拟环境中重新安装：
```bash
source .venv/bin/activate
pip install -r requirements.txt
```

## 程序成功运行确认

程序已经过测试，可以正常启动和运行。您应该能看到以下启动信息：
```
正在启动量化回测系统...
正在创建主窗口...
项目根目录: /Users/mac/Documents/QT/dist/量化回测系统/_internal
策略目录路径: /Users/mac/Documents/QT/dist/量化回测系统/_internal/策略
策略目录存在，开始扫描文件...
找到文件: __pycache__
找到文件: MA双均线择时.py
添加策略: MA双均线择时
找到文件: 参数优化策略.py
添加策略: 参数优化策略
主窗口已显示
```

如果看到这些信息，说明程序已成功启动。